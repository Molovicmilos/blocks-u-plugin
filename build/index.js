!function(){"use strict";var t={d:function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{getDoneTodos:function(){return a},getTodos:function(){return u},getTodosNumber:function(){return l},getUnDoneTodos:function(){return p}});var o={};t.r(o),t.d(o,{addTodo:function(){return T},populateTodos:function(){return w},toggleTodo:function(){return O},updateTodo:function(){return g}});var n={};t.r(n),t.d(n,{getTodos:function(){return b}});var r=window.wp.data;const i="ADD_TODO",c="POPULATE_TODOS",s="UPDATE_TODO",d={items:[]};const u=t=>t.items,l=t=>t.items.length,a=t=>t.items.filter((t=>t.completed)).length,p=t=>t.items.filter((t=>!t.completed)).length,m=()=>({type:"FETCH_TODOS"}),f=t=>({type:"CREATE_TODO",title:t}),h=t=>({type:"TOGGLE_TODO",todo:t});var y={FETCH_TODOS(){return window.fetch("https://jsonplaceholder.typicode.com/todos?_limit=10").then((t=>{if(t.ok)return t.json();throw new Error("Could not fetch")}))},CREATE_TODO({title:t}){return window.fetch("https://jsonplaceholder.typicode.com/todos",{method:"POST",body:JSON.stringify({title:t,completed:!1,userId:1}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>{if(t.ok)return t.json();throw new Error("Could not create todo.")}))},TOGGLE_TODO({todo:t}){return window.fetch(`https://jsonplaceholder.typicode.com/todos/${t.id}`,{method:"PATCH",body:JSON.stringify({completed:!t.completed}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>{if(t.ok)return t.json();throw new Error("Could not update todo.")}))}};function*T(t){try{const e=yield f(t);return{type:i,todo:e}}catch(t){return(0,r.dispatch)("core/notices").createErrorNotice(t.message||"Could not create todo.")}}function*O(t,e){try{yield g({...t,loading:!0},e);const o=yield h(t);return g(o,e)}catch(t){return(0,r.dispatch)("core/notices").createErrorNotice(t.message||"Could not update todo.")}}const g=(t,e)=>({type:s,index:e,todo:t}),w=t=>({type:c,todos:t});function*b(){try{const t=yield m();return w(t)}catch(t){return(0,r.dispatch)("core/notices").createErrorNotice(t.message||"Could not fetch todos")}}const _=(0,r.createReduxStore)("blocks-u/todos",{reducer:(t=d,e)=>{switch(e.type){case i:return{...t,items:[...t.items,e.todo]};case c:return{...t,items:e.todos};case s:{const o=[...t.items];return o[e.index]=e.todo,{...t,items:o}}default:return t}},selectors:e,actions:o,resolvers:n,controls:y});(0,r.register)(_);var E=window.React,P=window.wp.plugins,S=window.wp.editPost,C=window.wp.i18n,D=window.wp.components;const j=()=>{const t=(0,r.useSelect)((t=>t("core/editor").getEditedPostAttribute("meta")?._blocks_u_post_subtitle||"")),{editPost:e}=(0,r.useDispatch)("core/editor");return(0,E.createElement)(D.PanelBody,{title:(0,C.__)("Subtitle Options","blocks-u")},(0,E.createElement)(D.TextControl,{label:(0,C.__)("Subtitle Options","blocks-u"),value:t,onChange:t=>e({meta:{_blocks_u_post_subtitle:t}})}))};(0,P.registerPlugin)("blocks-u-plugin",{render:()=>(0,E.createElement)(E.Fragment,null,(0,E.createElement)(S.PluginSidebar,{name:"meta-fields-sidebar",icon:"admin-settings",title:(0,C.__)("Post Options","blocks-u")},(0,E.createElement)(j,null)))})}();